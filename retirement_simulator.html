<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Retirement Simulator</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="config.js" onerror="this.src='config.example.js'"></script>
    <script src="retirement-calculator.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Retirement Planning Simulator</h1>
            <p>Plan your financial future with interactive projections and scenarios</p>
        </div>

        <div class="main-content">
            <!-- Personal Information Panel -->
            <div class="panel">
                <h2>Personal Information</h2>
                <div class="form-row">
                    <div class="form-group">
                        <label for="currentAge">Current Age</label>
                        <input type="number" id="currentAge" value="30" min="18" max="100">
                    </div>
                    <div class="form-group">
                        <label for="retirementAge">Retirement Age</label>
                        <input type="number" id="retirementAge" value="60" min="50" max="80">
                    </div>
                </div>
                <div class="form-group">
                    <label for="lifeExpectancy">Life Expectancy</label>
                    <input type="number" id="lifeExpectancy" value="90" min="70" max="110">
                </div>
            </div>

            <!-- Income Panel -->
            <div class="panel">
                <h2>Income Information</h2>
                <div class="form-row">
                    <div class="form-group">
                        <label for="baseSalary">Base Salary ($)</label>
                        <input type="number" id="baseSalary" value="150000" min="0" step="1000">
                    </div>
                    <div class="form-group">
                        <label for="bonus">Annual Bonus ($)</label>
                        <input type="number" id="bonus" value="15000" min="0" step="1000">
                    </div>
                </div>
                <div class="form-group">
                    <label for="salaryGrowth">Annual Salary Growth (%)</label>
                    <input type="number" id="salaryGrowth" value="3" min="0" max="10" step="0.1">
                </div>
            </div>

            <!-- Starting Balances Panel -->
            <div class="panel">
                <h2>Starting Portfolio Balances</h2>
                <div class="form-row">
                    <div class="form-group">
                        <label for="taxableBalance">Taxable Account ($)</label>
                        <input type="number" id="taxableBalance" value="50000" min="0" step="1000">
                    </div>
                    <div class="form-group">
                        <label for="traditional401k">401(k) / Traditional ($)</label>
                        <input type="number" id="traditional401k" value="150000" min="0" step="1000">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="rothBalance">Roth IRA/401(k) ($)</label>
                        <input type="number" id="rothBalance" value="30000" min="0" step="1000">
                    </div>
                    <div class="form-group">
                        <label for="hsaBalance">HSA ($)</label>
                        <input type="number" id="hsaBalance" value="10000" min="0" step="1000">
                    </div>
                </div>
                <div class="form-group">
                    <label for="cashBalance">Cash (treated as invested) ($)</label>
                    <input type="number" id="cashBalance" value="20000" min="0" step="1000">
                </div>
            </div>

            <!-- Annual Contributions Panel -->
            <div class="panel">
                <h2>Annual Contributions (While Working)</h2>
                <div class="form-row">
                    <div class="form-group">
                        <label for="taxableContrib">Taxable Contribution ($)</label>
                        <input type="number" id="taxableContrib" value="12000" min="0" step="500">
                    </div>
                    <div class="form-group">
                        <label for="employee401k">401(k) Employee ($)</label>
                        <input type="number" id="employee401k" value="23000" min="0" step="500">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="employer401k">401(k) Employer ($)</label>
                        <input type="number" id="employer401k" value="10000" min="0" step="500">
                    </div>
                    <div class="form-group">
                        <label for="rothContrib">Roth Contribution ($)</label>
                        <input type="number" id="rothContrib" value="6500" min="0" step="500">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="hsaEmployee">HSA Employee ($)</label>
                        <input type="number" id="hsaEmployee" value="4000" min="0" step="500">
                    </div>
                    <div class="form-group">
                        <label for="hsaEmployer">HSA Employer ($)</label>
                        <input type="number" id="hsaEmployer" value="1000" min="0" step="500">
                    </div>
                </div>
            </div>

            <!-- Investment Scenario Panel -->
            <div class="panel">
                <h2>Investment Scenario</h2>
                <div class="scenario-buttons">
                    <button class="scenario-btn active" data-scenario="default">Default</button>
                    <button class="scenario-btn" data-scenario="conservative">Conservative</button>
                    <button class="scenario-btn" data-scenario="moderate">Moderate</button>
                    <button class="scenario-btn" data-scenario="aggressive">Aggressive</button>
                    <button class="scenario-btn" data-scenario="custom">Custom</button>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="investmentReturn">Investment Return (%)</label>
                        <input type="number" id="investmentReturn" value="4" min="0" max="20" step="0.1">
                    </div>
                    <div class="form-group">
                        <label for="inflation">Inflation (%)</label>
                        <input type="number" id="inflation" value="2" min="0" max="10" step="0.1">
                    </div>
                </div>
            </div>

            <!-- Retirement Withdrawal Panel -->
            <div class="panel">
                <h2>Retirement Withdrawal</h2>
                <div class="form-group">
                    <label for="baseWithdrawal">Base Annual Withdrawal (today's $)</label>
                    <input type="number" id="baseWithdrawal" value="60000" min="0" step="1000">
                </div>
                <div class="form-group">
                    <label for="indexWithdrawals">Index withdrawals with inflation?</label>
                    <select id="indexWithdrawals">
                        <option value="yes">Yes</option>
                        <option value="no">No</option>
                    </select>
                </div>
            </div>
        </div>

        <div id="results" class="results hidden">
            <h2>Retirement Projection Results</h2>
            <div class="summary-grid">
                <div class="summary-card">
                    <h3>Retirement Balance</h3>
                    <div class="value" id="retirementBalance">$0</div>
                </div>
                <div class="summary-card">
                    <h3>Years Sustainable</h3>
                    <div class="value" id="yearsSustainable">0</div>
                </div>
                <div class="summary-card">
                    <h3>End Balance at Life Expectancy</h3>
                    <div class="value" id="endBalance">$0</div>
                </div>
                <div class="summary-card">
                    <h3>Portfolio Depletion Year</h3>
                    <div class="value" id="depletionYear">Never</div>
                </div>
            </div>
            <div class="chart-container">
                <canvas id="portfolioChart"></canvas>
            </div>

            <div class="projection-table-container">
                <h3>Year-by-Year Projection</h3>
                <div class="table-wrapper">
                    <table id="projectionTable">
                        <thead>
                            <tr>
                                <th>Year</th>
                                <th>Age</th>
                                <th>Status</th>
                                <th>Salary</th>
                                <th>Contributions</th>
                                <th>Withdrawal</th>
                                <th>Investment Gain</th>
                                <th>End Balance</th>
                                <th>Real Value</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Table data will be populated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <div class="footer">
            <p>This is a simplified retirement planning model. Consult with a financial advisor for detailed planning.</p>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>